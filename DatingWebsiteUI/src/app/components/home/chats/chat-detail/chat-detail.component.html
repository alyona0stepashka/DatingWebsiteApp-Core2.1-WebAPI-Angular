<br/>
<div id="table_scroll" style="max-height: 500px; overflow: auto; margin-right: -2%;"> 
    <table *ngIf="messages.length>0" style="margin: 2%; width: 96%; background-color: slategrey; border-bottom-style: solid"> 
        <tr *ngFor="let mess of messages"> 
            <td style="width: 14%; padding: 1%;" class="text-center">
                <img *ngIf="mess.SenderAvatarPath" (click)="goToProfile(mess.SenderId)" class="avatar-chat" style="margin: 1%;" src="https://localhost:44394{{mess.SenderAvatarPath}}"/>
                <img *ngIf="!mess.SenderAvatarPath" (click)="goToProfile(mess.SenderId)" class="avatar-chat" style="margin: 1%;" src="/assets/img/no-image.png"/>
            </td>
            <td style="border-bottom: solid ">
                <label style="display: flex;">{{mess.SenderName}}&nbsp;&nbsp;<b style="font-size: 65%">{{this.datepipe.transform(mess.DateSend, 'MMMM d, h:mm a')}}</b></label><br/>
                <div class="row" style="margin-top: -3%; max-width: 108%; margin-left: 0%;"> 
                    <span style="font-size: 100%; width: 90%; color:#ffff; word-wrap: break-word; margin-right: 10px; word-break: break-all; white-space: pre-line;">{{mess.Text}}</span> 
                </div>
                <button *ngIf="mess.FilePathes.length>0" (click)="OpenFiles=mess.FilePathes" onclick="document.getElementById('id01').style.display='block'"><i class="fas fa-paperclip"></i>Show attachment</button><br/>
            </td>        
        </tr> 
    </table>
</div>
<div *ngIf="messages.length<1" > 
    <label class="text-center">No Message Yet</label>
</div><br/>
<div class="row" style="width: 100%; margin-left: 1%">
    <textarea rows="12" placeholder="Enter message ..." cols="60" [(ngModel)]="outgoingMessage.Text" style="resize: none; height: 90px; width: 90%;"></textarea>
    <button class="col-1" id="btn_send" (click)="onSendMessage()" onclick="document.getElementById('table_scroll').scrollTop = elem.scrollHeight"><i class="fas fa-envelope"></i></button> 
</div>
<div class="row" style="width: 100%; margin-left: 1%"> 
    <!-- <input type="file" #Image accept="image/*" (change)="uploadPhoto($event.target.files)" class="form-control col-sm-6" placeholder="Photo..." />  -->
    <!-- <img [src]="imageUrl" style="max-height: 100px; max-width: 100px" class="col-sm-6"> -->
    <ngx-dropzone style="max-width: 100%; max-height: 57px;" class="col-11" #dropzone [multiple]="true" [accept]="'image/*'" [maxFileSize]="5242880" [showPreviews]="true" (filesAdded)="onFilesAdded($event)" (filesRejected)="onFilesRejected($event)"></ngx-dropzone>
    <button class="col-1" (click)="dropzone.reset()" ><i class="fas fa-trash-alt"></i></button> 
</div><br/>
<div id="id01" class="w3-modal">
        <div class="w3-modal-content w3-card-4 w3-animate-zoom" style="max-width:650px"> 
          <div class="w3-center"><br>
            <span onclick="document.getElementById('id01').style.display='none'" class="w3-button w3-xlarge w3-hover-red w3-display-topright" title="Close Modal">&times;</span>
            <div class="row" style="width: 100%; margin-top: 4%; margin-left: 1%"> 
                <div style="padding-bottom: 1%;margin-top: 1%" class="container"> 
                    <div *ngFor="let photo of OpenFiles; let i = index" class="item text-center" > 
                    <img  (click)="open(i)" style="max-height: 100px; max-width: 100px;" src="https://localhost:44394{{photo}}" /> 
                    </div> 
                </div>
            </div>
        </div>
    </div>
</div> 
<script>
document.getElementById("btn_send").onclick = function () {
    console.log("btn_click000");
}
    </script>